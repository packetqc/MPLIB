/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/screenconfig_screen/ScreenConfigViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>

ScreenConfigViewBase::ScreenConfigViewBase() :
    updateItemCallback(this, &ScreenConfigViewBase::updateItemCallbackHandler),
    flexButtonCallback(this, &ScreenConfigViewBase::flexButtonCallbackHandler)
{
    __background.setPosition(0, 0, 240, 240);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    screenTitle.setXY(0, 0);
    add(screenTitle);

    configList.setPosition(0, 40, 240, 200);
    configList.setHorizontal(false);
    configList.setCircular(false);
    configList.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    configList.setSwipeAcceleration(10);
    configList.setDragAcceleration(10);
    configList.setNumberOfItems(3);
    configList.setPadding(0, 0);
    configList.setSnapping(true);
    configList.setOvershootPercentage(75);
    configList.setDrawableSize(36, 0);
    configList.setDrawables(configListListItems, updateItemCallback);
    add(configList);

    GoBack.setIconBitmaps(Bitmap(BITMAP_ICON_THEME_IMAGES_HARDWARE_KEYBOARD_ARROW_LEFT_33_33_38668C_SVG_ID), Bitmap(BITMAP_ICON_THEME_IMAGES_HARDWARE_KEYBOARD_ARROW_LEFT_33_33_E8F6FB_SVG_ID));
    GoBack.setIconXY(0, 0);
    GoBack.setAction(flexButtonCallback);
    GoBack.setPosition(0, 5, 32, 33);
    add(GoBack);
}

ScreenConfigViewBase::~ScreenConfigViewBase()
{

}

void ScreenConfigViewBase::setupScreen()
{
    screenTitle.initialize();
    configList.initialize();
    for (int i = 0; i < configListListItems.getNumberOfDrawables(); i++)
    {
        configListListItems[i].initialize();
    }
}

void ScreenConfigViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &GoBack)
    {
        //Interaction1
        //When GoBack clicked change screen to ScreenLogs
        //Go to ScreenLogs with screen transition towards East
        application().gotoScreenLogsScreenSlideTransitionEast();
    }
}

void ScreenConfigViewBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &configListListItems)
    {
        configListUpdateItem(configListListItems[containerIndex], itemIndex);
    }
}
